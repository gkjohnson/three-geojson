import{a as p,P as u,S as I,W as l,O as h,D as y,A as z,G as C,M as d,B as g,V as f,C as w}from"./GeoJSONLoader-BOrNbtGm.js";var m=Object.defineProperty,O=(e,t,s)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,j=(e,t,s)=>(O(e,typeof t!="symbol"?t+"":t,s),s);const A=["Point","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon","GeometryCollection"],S=["ZM","Z","M"],n="EMPTY";class k{constructor(t){j(this,"value"),j(this,"position"),this.value=t.toUpperCase(),this.position=0}match(t){this.skipWhitespaces();for(const s of t){const o=s.toUpperCase();if(this.value.startsWith(o,this.position))return this.position+=o.length,s}return null}matchRegex(t){this.skipWhitespaces();for(const s of t){const o=this.value.substring(this.position).match(s);if(o)return this.position+=o[0].length,o}return null}isMatch(t){return this.skipWhitespaces(),this.value.startsWith(t,this.position)?(this.position+=t.length,!0):!1}matchType(){const t=this.match(A);if(!t)throw new Error("Expected geometry type");return t}matchDimension(){switch(this.match(S)){case"ZM":return{hasZ:!0,hasM:!0};case"Z":return{hasZ:!0,hasM:!1};case"M":return{hasZ:!1,hasM:!0};default:return{hasZ:!1,hasM:!1}}}expectGroupStart(){if(!this.isMatch("("))throw new Error("Expected group start")}expectGroupEnd(){if(!this.isMatch(")"))throw new Error("Expected group end")}matchCoordinate(t){let s;if(t.hasZ&&t.hasM?s=this.matchRegex([/^(\S*)\s+(\S*)\s+(\S*)\s+([^\s,)]*)/i]):t.hasZ||t.hasM?s=this.matchRegex([/^(\S*)\s+(\S*)\s+([^\s,)]*)/i]):s=this.matchRegex([/^(\S*)\s+([^\s,)]*)/i]),!s)throw new Error("Expected coordinates");const o=t.hasZ&&t.hasM?[parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3]),parseFloat(s[4])]:t.hasZ?[parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3])]:t.hasM?[parseFloat(s[1]),parseFloat(s[2])]:[parseFloat(s[1]),parseFloat(s[2])];if(t.srid&&t.srid!==4326){if(t.proj)return t.proj(`EPSG:${t.srid}`,"EPSG:4326",o);throw new Error(`EWKT data in an unknown SRID (${t.srid}) was provided, but a proj function was not`)}return o}matchCoordinates(t){const s=[];do{const o=this.isMatch("(");s.push(this.matchCoordinate(t)),o&&this.expectGroupEnd()}while(this.isMatch(","));return s}skipWhitespaces(){for(;this.position<this.value.length&&this.value[this.position]===" ";)this.position++}}const Q=(e,t)=>{if(e.isMatch(n))return t.emptyAsNull?null:{type:"Point",coordinates:[]};e.expectGroupStart();const s=e.matchCoordinate(t);return e.expectGroupEnd(),{type:"Point",coordinates:s}},G=(e,t)=>{if(e.isMatch(n))return t.emptyAsNull?null:{type:"LineString",coordinates:[]};e.expectGroupStart();const s=e.matchCoordinates(t);return e.expectGroupEnd(),{type:"LineString",coordinates:s}},U=(e,t)=>{if(e.isMatch(n))return t.emptyAsNull?null:{type:"Polygon",coordinates:[]};const s=[];for(e.expectGroupStart(),e.expectGroupStart(),s.push(e.matchCoordinates(t)),e.expectGroupEnd();e.isMatch(",");)e.expectGroupStart(),s.push(e.matchCoordinates(t)),e.expectGroupEnd();return e.expectGroupEnd(),{type:"Polygon",coordinates:s}},P=(e,t)=>{if(e.isMatch(n))return t.emptyAsNull?null:{type:"MultiPoint",coordinates:[]};e.expectGroupStart();const s=e.matchCoordinates(t);return e.expectGroupEnd(),{type:"MultiPoint",coordinates:s}},Y=(e,t)=>{if(e.isMatch(n))return t.emptyAsNull?null:{type:"MultiLineString",coordinates:[]};e.expectGroupStart();const s=[];do e.expectGroupStart(),s.push(e.matchCoordinates(t)),e.expectGroupEnd();while(e.isMatch(","));return e.expectGroupEnd(),{type:"MultiLineString",coordinates:s}},b=(e,t)=>{if(e.isMatch(n))return t.emptyAsNull?null:{type:"MultiPolygon",coordinates:[]};e.expectGroupStart();const s=[];do{e.expectGroupStart();const o=[],r=[];for(e.expectGroupStart(),o.push.apply(o,e.matchCoordinates(t)),e.expectGroupEnd();e.isMatch(",");)e.expectGroupStart(),r.push(e.matchCoordinates(t)),e.expectGroupEnd();s.push([o,...r]),e.expectGroupEnd()}while(e.isMatch(","));return e.expectGroupEnd(),{type:"MultiPolygon",coordinates:s}},v=(e,t)=>{if(e.isMatch(n))return t.emptyAsNull?null:{type:"GeometryCollection",geometries:[]};e.expectGroupStart();const s=[];do{const o=N(e,t);o&&s.push(o)}while(e.isMatch(","));return e.expectGroupEnd(),{type:"GeometryCollection",geometries:s}};function N(e,t){let s=null;const o=e.matchRegex([/^SRID=(\d+);/i]);o&&(s=parseInt(o[1],10));const r=e.matchType(),L=e.matchDimension(),M={...t,srid:s,hasZ:L.hasZ,hasM:L.hasM};switch(r){case"Point":return Q(e,M);case"LineString":return G(e,M);case"Polygon":return U(e,M);case"MultiPoint":return P(e,M);case"MultiLineString":return Y(e,M);case"MultiPolygon":return b(e,M);case"GeometryCollection":return v(e,M)}}function Z(e,t={emptyAsNull:!0}){return N(new k(e),t)}class W extends p{loadAsync(t){return fetch(t).then(s=>s.text()).then(s=>this.parse(s))}parse(t){return super.parse(Z(t))}}const c=new u(70,window.innerWidth/window.innerHeight,.01,1e3);c.position.z=2;const E=new I,a=new l({antialias:!0});a.setAnimationLoop(K);document.body.appendChild(a.domElement);const F=new w,D=new h(c,a.domElement);D.minDistance=1;D.enableDamping=!0;D.autoRotate=!0;const x=new y(16777215,3.5);x.position.set(1,2,3);const R=new z(16777215,1);E.add(x,R);const i=new C;E.add(i);const H=new URL("data:application/octet-stream;base64,UE9MWUdPTigoLTEyNC40MDA5IDQxLjk5ODMsLTEyMy42MjM3IDQyLjAwMjQsLTEyMy4xNTI2IDQyLjAxMjYsLTEyMi4wMDczIDQyLjAwNzUsLTEyMS4yMzY5IDQxLjk5NjIsLTExOS45OTgyIDQxLjk5ODMsLTEyMC4wMDM3IDM5LjAwMjEsLTExNy45NTc1IDM3LjU1NTUsLTExNi4zNjk5IDM2LjM1OTQsLTExNC42MzY4IDM1LjAwNzUsLTExNC42MzgyIDM0Ljk2NTksLTExNC42Mjg2IDM0LjkxMDcsLTExNC42MzgyIDM0Ljg3NTgsLTExNC41OTcwIDM0Ljg0NTQsLTExNC41NjgyIDM0Ljc4OTAsLTExNC40OTY4IDM0LjcyNjksLTExNC40NTAxIDM0LjY2NDgsLTExNC40NTk3IDM0LjY1ODEsLTExNC40MzIyIDM0LjU4NjksLTExNC4zNzg3IDM0LjUyMzUsLTExNC4zODY5IDM0LjQ2MDEsLTExNC4zMzYxIDM0LjQ1MDAsLTExNC4zMDMxIDM0LjQzNzUsLTExNC4yNjc0IDM0LjQwMjQsLTExNC4xODY0IDM0LjM1NTksLTExNC4xMzgzIDM0LjMwNDksLTExNC4xMzE1IDM0LjI1NjEsLTExNC4xNjUxIDM0LjI1OTUsLTExNC4yMjQ5IDM0LjIwNDQsLTExNC4yMjIxIDM0LjE5MTQsLTExNC4yOTA4IDM0LjE3MjAsLTExNC4zMjM3IDM0LjEzNjgsLTExNC4zNjIyIDM0LjExODYsLTExNC40MDg5IDM0LjExMTgsLTExNC40MzYzIDM0LjA4NTYsLTExNC40MzM2IDM0LjAyNzYsLTExNC40NjUyIDM0LjAxMTcsLTExNC41MTE5IDMzLjk1ODIsLTExNC41MzY2IDMzLjkzMDgsLTExNC41MDkxIDMzLjkwNTgsLTExNC41MjU2IDMzLjg2MTMsLTExNC41MjE1IDMzLjgyNDgsLTExNC41MDUwIDMzLjc1OTcsLTExNC40OTQwIDMzLjcwODMsLTExNC41Mjg0IDMzLjY4MzIsLTExNC41MjQyIDMzLjYzNjMsLTExNC41MzkzIDMzLjU4OTUsLTExNC41MjQyIDMzLjU1MjgsLTExNC41NTg2IDMzLjUzMTEsLTExNC41Nzc4IDMzLjUwNzAsLTExNC42MjQ1IDMzLjQ0MTgsLTExNC42NTA2IDMzLjQxNDIsLTExNC43MDU1IDMzLjQwMzksLTExNC42OTczIDMzLjM1NDYsLTExNC43MzAyIDMzLjMwNDEsLTExNC43MjA2IDMzLjI4NTgsLTExNC42ODA4IDMzLjI3NTQsLTExNC42Njk4IDMzLjI1ODIsLTExNC42OTA0IDMzLjI0NjcsLTExNC42Nzk0IDMzLjE3MjAsLTExNC43MDgzIDMzLjA5MDQsLTExNC42OTE4IDMzLjA4NTgsLTExNC42NjI5IDMzLjAzMjgsLTExNC42NDUxIDMzLjA1MDEsLTExNC42Mjg2IDMzLjAzMDUsLTExNC41ODg4IDMzLjAyODIsLTExNC41NzUwIDMzLjAzNTEsLTExNC41MTc0IDMzLjAzMjgsLTExNC40OTEzIDMyLjk3MTgsLTExNC40Nzc1IDMyLjk3NjQsLTExNC40ODQ0IDMyLjkzNzIsLTExNC40Njc5IDMyLjg0MjcsLTExNC41MDkxIDMyLjgxNjEsLTExNC41MzExIDMyLjc4NTAsLTExNC41Mjg0IDMyLjc1NzMsLTExNC41NjQxIDMyLjc1MDMsLTExNC42MTYyIDMyLjczNTMsLTExNC42OTg2IDMyLjc0ODAsLTExNC43MjIwIDMyLjcxOTEsLTExNS4xOTQ0IDMyLjY4NjgsLTExNy4zMzk1IDMyLjUxMjEsLTExNy40ODIzIDMyLjc4MzgsLTExNy41OTc3IDMzLjA1MDEsLTExNy42ODE0IDMzLjIzNDEsLTExOC4wNTkxIDMzLjQ1NzgsLTExOC42MjkwIDMzLjU0MDMsLTExOC43MDczIDMzLjc5MjgsLTExOS4zNzA2IDMzLjk1ODIsLTEyMC4wMDUwIDM0LjE5MjUsLTEyMC43MTY0IDM0LjI1NjEsLTEyMC45MTI4IDM0LjUzNjAsLTEyMC44NDI3IDM0Ljk3NDksLTEyMS4xMzI1IDM1LjIxMzEsLTEyMS4zMjIwIDM1LjUyNTUsLTEyMS44MDEzIDM1Ljk2OTEsLTEyMi4xNDQ2IDM2LjI4MDgsLTEyMi4xNzIxIDM2LjcyNjgsLTEyMi42ODcxIDM3LjIyMjcsLTEyMi44OTAzIDM3Ljc3ODMsLTEyMy4yMzc4IDM3Ljg5NjUsLTEyMy4zMjAyIDM4LjM0NDksLTEyMy44MzM4IDM4Ljc0MjMsLTEyMy45NzkzIDM4Ljk5NDYsLTEyNC4wMzI5IDM5LjMwODgsLTEyNC4wODIzIDM5Ljc2NDIsLTEyNC41MzE0IDQwLjE2NjMsLTEyNC42NTA5IDQwLjQ2NTgsLTEyNC4zMTQ0IDQxLjAxMTAsLTEyNC4zNDE5IDQxLjIzODYsLTEyNC40NTQ1IDQxLjcxNzAsLTEyNC40MDA5IDQxLjk5ODMsLTEyNC40MDA5IDQxLjk5ODMpKQo=",import.meta.url);new W().loadAsync(H).then(e=>{e.polygons.forEach(o=>{const r=o.getMeshObject({thickness:1});r.material=new d({polygonOffset:!0,polygonOffsetFactor:1,polygonOffsetUnits:1,color:16777215});const L=o.getLineObject({offset:-.5});L.material.color.set(16777215);const M=o.getLineObject({offset:1.5});M.material.color.set(16777215),i.add(r,L,M)});const t=new g;t.setFromObject(i),t.getCenter(i.position).multiplyScalar(-1);const s=new f;t.getSize(s),i.scale.setScalar(1/Math.max(...s)),i.position.multiplyScalar(i.scale.x),console.log(e)});T();window.addEventListener("resize",T);function K(){D.update(Math.min(F.getDelta(),64/1e3)),a.render(E,c)}function T(){a.setSize(window.innerWidth,window.innerHeight),a.setPixelRatio(window.devicePixelRatio),c.aspect=window.innerWidth/window.innerHeight,c.updateProjectionMatrix()}
